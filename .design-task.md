# BuilderOS Mobile iOS App - Visual Design Specifications

## Objective
Create comprehensive visual design specifications for BuilderOS Mobile iOS app using **gen-ui output style** to produce interactive, previewable HTML artifacts.

## Context

**App Overview:**
- Native iOS app with SwiftUI (iOS 17+)
- 4-tab interface: Dashboard, Chat, Preview, Settings
- Embedded Tailscale VPN integration
- Auto-discovery of Mac on Tailscale network
- System monitoring and capsule management

**Design System (Implemented in Swift):**

**Colors (from Colors.swift):**
- Brand Primary: Blue
- Tailscale Primary: #2E3338 (dark gray)
- Tailscale Accent: #598FFF (vibrant blue)
- Status: Green (success), Orange (warning), Red (error), Blue (info)
- Semantic iOS colors (adapt to Light/Dark mode automatically)

**Typography (from Typography.swift):**
- Display Large: 57pt Bold Rounded
- Display Medium: 45pt Bold Rounded
- Display Small: 36pt Bold Rounded
- Headline Large: 32pt Semibold Rounded
- Headline Medium: 28pt Semibold Rounded
- Headline Small: 24pt Semibold Rounded
- Title Large: 22pt Semibold
- Title Medium: 16pt Semibold
- Title Small: 14pt Semibold
- Body Large: 16pt Regular
- Body Medium: 14pt Regular
- Body Small: 12pt Regular
- Label Large: 14pt Medium
- Label Medium: 12pt Medium
- Label Small: 11pt Medium
- Mono Large: 16pt Regular Monospace (for code, IPs, API keys)
- Mono Medium: 14pt Regular Monospace
- Mono Small: 12pt Regular Monospace

**Spacing (from Spacing.swift - 8pt grid):**
- xs: 4pt
- sm: 8pt
- md: 12pt
- base: 16pt
- lg: 24pt
- xl: 32pt
- xxl: 48pt
- xxxl: 64pt

**Corner Radius:**
- xs: 4pt
- sm: 8pt
- md: 12pt (default)
- lg: 16pt
- xl: 20pt
- circle: 50%

**Touch Targets:**
- Minimum: 44pt (Apple HIG requirement)
- Comfortable: 48pt
- Large: 56pt

**Animations:**
- Fast: 0.15s
- Normal: 0.25s
- Slow: 0.35s
- Spring animations: Fast (0.3s, 0.7 damping), Normal (0.4s, 0.8 damping), Bouncy (0.5s, 0.6 damping)

## Screens to Design (6 total)

### 1. OnboardingView
**Purpose:** First-time setup flow

**Content:**
- Welcome heading: "Welcome to BuilderOS"
- Subheading: "Secure remote access to your Builder System"
- Tailscale logo/branding
- OAuth login button (primary CTA): "Connect with Tailscale"
- Provider icons: GitHub, Google, Microsoft, Email
- Auto-discovery progress indicator (after OAuth)
- API key input field (secure text entry)
- "Get Started" button (final step)

**States:**
- Initial (welcome screen)
- Loading (OAuth in progress)
- Discovery (finding Mac on Tailscale network)
- API Key entry (final setup step)
- Error (Mac not found, invalid API key)

### 2. DashboardView (Main Tab 1)
**Purpose:** System overview and capsule management

**Content:**
- Navigation bar: "Dashboard" title, refresh button
- Connection status card:
  - Tailscale IP (monospace font): "100.66.202.6"
  - Mac hostname: "roth-macbook-pro"
  - Latency: "12ms" with green indicator
  - VPN status: "Connected" badge
- System health metrics (3 cards in row):
  - CPU: "24%" with gauge/progress ring
  - Memory: "62%" with gauge
  - Uptime: "3d 14h" with clock icon
- Capsule grid (2 columns):
  - Capsule cards with:
    - Name (e.g., "brandjack")
    - Description (1 line, truncated)
    - Status badge: ✅ Passing / ⚠️ Warning / ❌ Failing
    - Last updated: "2 hours ago"
  - Pull-to-refresh control
- Empty state: "No capsules found" with refresh instruction

**States:**
- Loading (skeleton cards)
- Connected with data
- Error (connection lost)
- Empty (no capsules)
- Refreshing (pull-to-refresh)

### 3. ChatView (Main Tab 2)
**Purpose:** Terminal/chat interface for command execution

**Content:**
- Navigation bar: "Chat" title, clear button
- Message bubbles (chat-style):
  - User messages (blue bubble, right-aligned)
  - System responses (gray bubble, left-aligned)
  - Monospace font for code/output
- Quick action buttons (horizontal scroll):
  - "Git Status" (git icon)
  - "List Capsules" (folder icon)
  - "System Health" (heart icon)
  - Custom buttons...
- Command input:
  - Text field with placeholder: "Type a command..."
  - Voice input button (microphone icon, 44pt touch target)
  - Send button (paper airplane icon)
- SSH execution indicator: "Executing..." with spinner

**States:**
- Empty (no messages, show quick actions)
- Active conversation
- Voice recording (microphone animating)
- Command executing (loading spinner)
- Error (SSH connection lost)

### 4. LocalhostPreviewView (Main Tab 3)
**Purpose:** View localhost dev servers running on Mac

**Content:**
- URL bar:
  - Protocol: "http://"
  - Tailscale IP input: "100.66.202.6"
  - Port input: ":3000"
  - Refresh button
- Common port quick buttons:
  - "3000" (React/Vite)
  - "8080" (API)
  - "5173" (Vite)
  - "5678" (n8n)
- WebView container (full-screen)
- Loading indicator (center spinner)
- Error state:
  - "Server not running" message
  - "Make sure the dev server is running on your Mac"
  - Retry button

**States:**
- Loading (spinner in WebView)
- Active (WebView showing localhost content)
- Error (server not running)
- Empty (no URL entered)

### 5. SettingsView (Main Tab 4)
**Purpose:** App configuration and device management

**Content:**
- Sections (grouped list style):

**Tailscale Connection:**
  - Device list (expandable):
    - Current device (iPhone icon, device name)
    - Mac (computer icon, "roth-macbook-pro")
    - Other devices...
  - Network status: "Connected" badge
  - Disconnect button (destructive style)

**API Configuration:**
  - API key display (masked): "••••••••key123"
  - Update button (pencil icon)
  - Test connection button

**Power Controls:**
  - Sleep Mac button (moon icon)
  - Wake instructions (info icon, shows help sheet)

**App Info:**
  - Version: "1.0.0"
  - Build: "42"
  - Feedback button
  - Logout button (destructive)

**States:**
- Normal (all info displayed)
- Editing API key (modal/sheet)
- Disconnecting (loading)
- Error (connection test failed)

### 6. CapsuleDetailView (Modal/Sheet)
**Purpose:** Detailed capsule information and actions

**Content:**
- Navigation bar: Capsule name, close button
- Header:
  - Status badge: ✅/⚠️/❌
  - Description (multi-line)
- Metrics section (3 columns):
  - Files: "1,247" (document icon)
  - Lines of Code: "18,523" (code icon)
  - Disk Usage: "42 MB" (storage icon)
- Tags section:
  - Badge pills: "automation", "instagram", "active"
- Metadata section (list):
  - Last Updated: "2 hours ago"
  - Status: "Passing"
  - Health: "Good"
- Action buttons (bottom):
  - "View Logs" (secondary)
  - "Open Terminal" (secondary)
  - "Refresh" (primary)

**States:**
- Loading (skeleton content)
- Loaded with data
- Error (failed to fetch)
- Refreshing (spinner on Refresh button)

## Deliverables (Using gen-ui Output Style)

### 1. Interactive Color Palette
**Format:** gen-ui HTML artifact

- Show all colors with hex values
- Display on both light and dark backgrounds
- Show contrast ratios (WCAG AA compliance)
- Include gradient examples

### 2. Typography Scale Visualizer
**Format:** gen-ui HTML artifact

- Display all font sizes in action
- Show line heights and weights
- Example text for each size
- Monospace fonts demonstrated with code examples

### 3. Screen Wireframes (6 screens)
**Format:** gen-ui HTML artifacts (one per screen)

- Interactive HTML mockups (clickable where appropriate)
- Show actual layout with 8pt grid alignment
- Use exact color values (#598FFF, system colors)
- SF Symbols icons (or web equivalents)
- Both Light AND Dark mode versions

### 4. Component Showcase
**Format:** gen-ui HTML artifact

**Components to showcase:**
- Buttons: Primary, Secondary, Destructive, Ghost, Disabled
- Cards: Connection card, System metric card, Capsule card
- Inputs: Text field, Secure text, Search
- Badges: Status badges (success/warning/error), Tag pills
- Tab Bar: iOS-style with 4 tabs
- Navigation Bar: Title, back button, action buttons
- Progress Indicators: Spinner, Progress bar, Pull-to-refresh

**Show all states:** Default, Hover/Pressed, Disabled, Loading, Error

### 5. Light/Dark Mode Comparison
**Format:** gen-ui HTML artifact

- Side-by-side comparison of key screens
- Show how semantic colors adapt
- Demonstrate proper contrast in both modes

### 6. Spacing System Visualizer
**Format:** gen-ui HTML artifact

- Visual demonstration of 8pt grid
- Show spacing scale (xs through xxxl)
- Example layouts using spacing system
- Touch target demonstrations (44pt minimum)

## Technical Requirements

**gen-ui HTML Guidelines:**
- Use inline styles (self-contained)
- System fonts: `font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", system-ui`
- Responsive units (%, max-width)
- Semantic HTML (button, input, nav elements)
- Accurate hex color values from design system
- Interactive states shown (hover, focus, active, disabled)

**Accessibility:**
- 4.5:1 contrast ratio for text (WCAG AA)
- 3:1 contrast ratio for UI elements
- 44pt minimum touch targets
- Keyboard focusable elements
- ARIA labels where appropriate
- VoiceOver considerations documented

**iOS Design Patterns:**
- Native iOS tab bar (bottom navigation)
- iOS-style navigation bar (top)
- iOS list/group styles (Settings)
- iOS modal presentation (sheets, alerts)
- iOS animations (spring physics)
- Pull-to-refresh pattern
- Empty states with helpful instructions

## Success Criteria

- All 6 screens designed with complete visual specifications
- Both Light and Dark mode variants shown
- Interactive gen-ui HTML artifacts (previewable in browser)
- Exact design system values applied (colors, typography, spacing)
- All component states documented (default, hover, loading, error, empty)
- Accessibility requirements met (contrast, touch targets)
- iOS 17+ design patterns followed
- Ready for manual Penpot project creation

## Next Steps After Design

1. UI Designer creates all gen-ui artifacts
2. Ty reviews visual specifications in browser
3. Manual Penpot project creation using specifications as reference
4. Jarvis verifies Penpot project using read-only MCP tools:
   - `mcp__penpot__list_projects()` - Find "BuilderOS Mobile App"
   - `mcp__penpot__get_project_files()` - List design files
   - `mcp__penpot__get_object_tree()` - Extract component specs
   - `mcp__penpot__export_object()` - Generate screenshots for verification
5. Return Penpot project URL: `http://localhost:3449/file/{file_id}`
